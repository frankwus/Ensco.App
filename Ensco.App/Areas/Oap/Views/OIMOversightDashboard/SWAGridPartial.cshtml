@model IEnumerable<Ensco.Irma.Data.SWA>

@Html.DevExpress().GridView(settings =>
{

    settings.Name = "gridOpenSWA";
    settings.KeyFieldName = "Id";

    settings.SettingsText.Title = "Stop Work Authority Pending Review";
    settings.Settings.ShowTitlePanel = true;

    // Routes
    settings.CallbackRouteValues = new { Controller = "OIMOversightDashboard", Action = "GetOpenSWAs" };

    // Columns
    settings.Columns.Add(c =>
    {
        c.FieldName = "id";
        c.Caption = "Id";
        c.Width = Unit.Percentage(5);

        c.SetDataItemTemplateContent(container =>
        {
            Html.DevExpress().HyperLink(link =>
            {
                string Id = DataBinder.Eval(container.DataItem, "id").ToString();
                link.Properties.Text = Id;
                string url = url = Url.Action("ShowJobWindow", new { Area = "IRMA", Controller = "Jobs", name = "popupSWA", title = "JSA", url = string.Format("~/job/swa.htm?id={0}", Id) });
                link.NavigateUrl = url;
            }).Render();
        });
    });
    settings.Columns.Add("JobId").Width = Unit.Percentage(10);
    settings.Columns.Add("JobTitle").Width = Unit.Percentage(10);
    settings.Columns.Add("Comment").Width = Unit.Percentage(15);
    settings.Columns.Add(c => {
        c.FieldName = "Date";
        c.PropertiesEdit.DisplayFormatString = "dd-MMM-yyyy";
        c.Width = Unit.Percentage(8);
    });
    settings.Columns.Add("Status").Width = Unit.Percentage(6);

    // Filter
    settings.Settings.ShowHeaderFilterButton = true;

    // Paging
    settings.SettingsPager.FirstPageButton.Visible = true;
    settings.SettingsPager.LastPageButton.Visible = true;
    settings.SettingsPager.PageSizeItemSettings.Visible = true;
    settings.SettingsPager.PageSizeItemSettings.Items = new string[] { "10", "20", "50" };

    // Style
    settings.Width = Unit.Percentage(100);

}).Bind(Model).GetHtml()
